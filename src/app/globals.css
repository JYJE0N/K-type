/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;
/* stylelint-enable at-rule-no-unknown */

/* ===============================
   📦 디자인 토큰 및 테마 (통합)
   =============================== */

/* 📏 디자인 토큰 (Design Tokens) */
:root {
  /* 📏 스페이싱 토큰 */
  --spacing-0: 0;
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;
  --spacing-20: 5rem;
  --spacing-24: 6rem;
  
  /* 🔤 타이포그래피 토큰 */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  
  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
  
  --line-height-tight: 1.25;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;
  
  /* 🔳 보더 토큰 */
  --border-radius-none: 0;
  --border-radius-sm: 0.125rem;
  --border-radius-base: 0.25rem;
  --border-radius-md: 0.375rem;
  --border-radius-lg: 0.5rem;
  --border-radius-xl: 0.75rem;
  --border-radius-2xl: 1rem;
  --border-radius-full: 9999px;
  
  --border-width-0: 0px;
  --border-width-1: 1px;
  --border-width-2: 2px;
  --border-width-4: 4px;
  
  /* 🌑 그림자 토큰 */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  
  /* ⚡ 애니메이션 토큰 */
  --animation-duration-fast: 150ms;
  --animation-duration-base: 200ms;
  --animation-duration-slow: 300ms;
  --animation-duration-slower: 500ms;
  
  --animation-easing-linear: linear;
  --animation-easing-out: cubic-bezier(0, 0, 0.2, 1);
  --animation-easing-in: cubic-bezier(0.4, 0, 1, 1);
  --animation-easing-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --animation-easing-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* 🎨 테마 CSS Variables (런타임 테마) */

/* 라이트 테마 (화이트-블루) */
html:root,
html[data-theme="light"] {
  --color-background: #ffffff;
  --color-background-secondary: #f8fafc;
  --color-background-elevated: #f1f5f9;
  --color-button-group-default: #f1f5f9;
  --color-surface: #f8fafc;
  --color-elevated: #f1f5f9;
  --color-border: #e2e8f0;
  --color-border-light: #f1f5f9;
  --color-text-primary: #1e293b;
  --color-text-secondary: #475569;
  --color-text-tertiary: #64748b;
  --color-text-inverse: #ffffff;
  --color-text-muted: #94a3b8;
  --color-interactive-primary: #3b82f6;
  --color-interactive-primary-hover: #2563eb;
  --color-interactive-secondary: #6366f1;
  --color-interactive-secondary-hover: #4f46e5;
  --color-interactive-disabled: #cbd5e1;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #f59e0b;
  --color-feedback-error: #ef4444;
  --color-feedback-info: #3b82f6;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 다크 테마 (개선된 드라큘라 스타일) */
html[data-theme="dark"] {
  --color-background: #282a36;
  --color-background-secondary: #44475a;
  --color-background-elevated: #565761;
  --color-button-group-default: #44475a;
  --color-surface: #44475a;
  --color-elevated: #565761;
  --color-border: #44475a;
  --color-border-light: #6272a4;
  --color-text-primary: #f8f8f2;
  --color-text-secondary: #a78bfa;
  --color-text-tertiary: #94a3b8;
  --color-text-inverse: #282a36;
  --color-text-muted: #6272a4;
  --color-interactive-primary: #a78bfa;
  --color-interactive-primary-hover: #c4b5fd;
  --color-interactive-secondary: #67e8f9;
  --color-interactive-secondary-hover: #7dd3fc;
  --color-interactive-disabled: #6272a4;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #f59e0b;
  --color-feedback-error: #ef4444;
  --color-feedback-info: #67e8f9;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 고대비 테마 (네온 오렌지-블랙) */
html[data-theme="high-contrast"] {
  --color-background: #000000;
  --color-background-secondary: #111111;
  --color-background-elevated: #1a1a1a;
  --color-button-group-default: #1a1a1a;
  --color-surface: #111111;
  --color-elevated: #1a1a1a;
  --color-border: #333333;
  --color-border-light: #444444;
  --color-text-primary: #ffffff;
  --color-text-secondary: #ff8c00;
  --color-text-tertiary: #ffa500;
  --color-text-inverse: #000000;
  --color-text-muted: #666666;
  --color-interactive-primary: #ff6600;
  --color-interactive-primary-hover: #ff8833;
  --color-interactive-secondary: #ff8c00;
  --color-interactive-secondary-hover: #ffa500;
  --color-interactive-disabled: #444444;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #ffaa00;
  --color-feedback-error: #ff2244;
  --color-feedback-info: #0088ff;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 은밀모드 - 칸반 스타일 (Trello) */
html[data-theme="stealth"] {
  --color-background: #026aa7;
  --color-background-secondary: #0079bf;
  --color-background-elevated: #ffffff;
  --color-button-group-default: #f4f5f7;
  --color-surface: #ffffff;
  --color-elevated: #f4f5f7;
  --color-border: #dfe1e6;
  --color-border-light: #ebecf0;
  --color-text-primary: #172b4d;
  --color-text-secondary: #5e6c84;
  --color-text-tertiary: #6b778c;
  --color-text-inverse: #ffffff;
  --color-text-muted: #8993a4;
  --color-interactive-primary: #0079bf;
  --color-interactive-primary-hover: #005a8b;
  --color-interactive-secondary: #42526e;
  --color-interactive-secondary-hover: #344563;
  --color-interactive-disabled: #a5adba;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #f59e0b;
  --color-feedback-error: #ef4444;
  --color-feedback-info: #0079bf;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 은밀모드 - 에디터 스타일 (Google Docs) */
html[data-theme="stealth-docs"] {
  --color-background: #fafafa;
  --color-background-secondary: #f8f9fa;
  --color-background-elevated: #ffffff;
  --color-button-group-default: #f8f9fa;
  --color-surface: #f8f9fa;
  --color-elevated: #ffffff;
  --color-border: #dadce0;
  --color-border-light: #e8eaed;
  --color-text-primary: #3c4043;
  --color-text-secondary: #5f6368;
  --color-text-tertiary: #80868b;
  --color-text-inverse: #ffffff;
  --color-text-muted: #9aa0a6;
  --color-interactive-primary: #1a73e8;
  --color-interactive-primary-hover: #1565c0;
  --color-interactive-secondary: #5f6368;
  --color-interactive-secondary-hover: #3c4043;
  --color-interactive-disabled: #dadce0;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #ea8600;
  --color-feedback-error: #d93025;
  --color-feedback-info: #1a73e8;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 은밀모드 - 메신저 스타일 (Slack) */
html[data-theme="stealth-slack"] {
  --color-background: #1a1d29;
  --color-background-secondary: #232937;
  --color-background-elevated: #2c2d3a;
  --color-button-group-default: #232937;
  --color-surface: #232937;
  --color-elevated: #2c2d3a;
  --color-border: #444444;
  --color-border-light: #555555;
  --color-text-primary: #d1d2d3;
  --color-text-secondary: #ababad;
  --color-text-tertiary: #868686;
  --color-text-inverse: #1a1d29;
  --color-text-muted: #696969;
  --color-interactive-primary: #007a5a;
  --color-interactive-primary-hover: #005a42;
  --color-interactive-secondary: #1264a3;
  --color-interactive-secondary-hover: #0e4775;
  --color-interactive-disabled: #444444;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #f59e0b;
  --color-feedback-error: #ef4444;
  --color-feedback-info: #1264a3;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* 은밀모드 - 노션 스타일 */
html[data-theme="stealth-notion"] {
  --color-background: #ffffff;
  --color-background-secondary: #f7f6f3;
  --color-background-elevated: #f1f1ef;
  --color-button-group-default: #f1f1ef;
  --color-surface: #f7f6f3;
  --color-elevated: #f1f1ef;
  --color-border: #e9e9e7;
  --color-border-light: #f1f1ef;
  --color-text-primary: #37352f;
  --color-text-secondary: #6f6e69;
  --color-text-tertiary: #9b9a97;
  --color-text-inverse: #ffffff;
  --color-text-muted: #b8b7b4;
  --color-interactive-primary: #2383e2;
  --color-interactive-primary-hover: #1a6bb8;
  --color-interactive-secondary: #6f6e69;
  --color-interactive-secondary-hover: #57564f;
  --color-interactive-disabled: #e9e9e7;
  --color-feedback-success: var(--color-interactive-secondary);
  --color-feedback-warning: #f59e0b;
  --color-feedback-error: #ef4444;
  --color-feedback-info: #2383e2;
  --color-typing-correct: var(--color-feedback-success);
  --color-typing-incorrect: var(--color-feedback-error);
  --color-typing-current: var(--color-interactive-primary);
  --color-typing-cursor: var(--color-interactive-primary);
}

/* ===============================
   🎨 폰트 import
   =============================== */
   
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css");
@import url("https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap");

/* ===============================
   🎯 기본 설정 및 CSS 리셋
   =============================== */

/* 초기 로드 시 깜빡임 방지 */
html {
  visibility: hidden;
}

html[data-theme-loaded="true"] {
  visibility: visible;
}

*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-feature-settings: "kern" 1, "liga" 1;
}

body {
  font-family: 'Pretendard', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
  background-color: var(--color-background);
  color: var(--color-text-primary);
  line-height: 1.5;
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* ===============================
   ⌨️ 타이핑 특화 스타일
   =============================== */

.typing-area {
  font-family: 'JetBrains Mono', 'Menlo', 'Monaco', 'Consolas', monospace;
  font-size: 1.125rem;
  line-height: 1.75;
  letter-spacing: 0.02em;
  user-select: none;
  caret-color: transparent;
}

/* ===============================
   🔧 유틸리티 클래스 (공통)
   =============================== */

/* 포커스 아웃라인 제거 */
*:focus {
  outline: none;
}

/* 자주 사용되는 스페이싱 유틸리티 */
.p-token-sm { padding: var(--spacing-2); }
.p-token-md { padding: var(--spacing-4); }
.p-token-lg { padding: var(--spacing-6); }
.p-token-xl { padding: var(--spacing-8); }
.p-token-2xl { padding: var(--spacing-12); }

/* 복합 패딩 유틸리티 (Layout 전용) */
.p-layout-main { padding: var(--spacing-12) var(--spacing-6); }

.py-token-sm { padding-top: var(--spacing-2); padding-bottom: var(--spacing-2); }
.py-token-md { padding-top: var(--spacing-4); padding-bottom: var(--spacing-4); }
.py-token-lg { padding-top: var(--spacing-6); padding-bottom: var(--spacing-6); }
.py-token-xl { padding-top: var(--spacing-8); padding-bottom: var(--spacing-8); }
.py-token-2xl { padding-top: var(--spacing-12); padding-bottom: var(--spacing-12); }

.px-token-sm { padding-left: var(--spacing-2); padding-right: var(--spacing-2); }
.px-token-md { padding-left: var(--spacing-4); padding-right: var(--spacing-4); }
.px-token-lg { padding-left: var(--spacing-6); padding-right: var(--spacing-6); }
.px-token-xl { padding-left: var(--spacing-8); padding-right: var(--spacing-8); }
.px-token-2xl { padding-left: var(--spacing-12); padding-right: var(--spacing-12); }

.mt-token-xs { margin-top: var(--spacing-1); }
.mt-token-sm { margin-top: var(--spacing-2); }
.mt-token-md { margin-top: var(--spacing-4); }
.mt-token-lg { margin-top: var(--spacing-6); }
.mt-token-xl { margin-top: var(--spacing-8); }

.mb-token-sm { margin-bottom: var(--spacing-2); }
.mb-token-md { margin-bottom: var(--spacing-4); }
.mb-token-lg { margin-bottom: var(--spacing-6); }
.mb-token-xl { margin-bottom: var(--spacing-8); }

/* 스크롤바 스타일 */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-surface);
}

::-webkit-scrollbar-thumb {
  background: var(--color-text-secondary);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-primary);
}

/* GPU 가속 유틸리티 */
.gpu-accelerated {
  transform: translateZ(0);
  will-change: transform, opacity;
}

.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* 타이핑 관련 색상 클래스 */
.typing-correct-text {
  color: var(--color-typing-correct);
}

.typing-incorrect-text {
  color: var(--color-typing-incorrect);
  border: 1px solid;
  border-color: color-mix(in srgb, var(--color-typing-incorrect) 30%, transparent);
}

.typing-incorrect-bg {
  background-color: color-mix(in srgb, var(--color-typing-incorrect) 10%, transparent);
}

.typing-current-text {
  color: var(--color-typing-current);
}

.typing-pending-text {
  color: var(--color-text-tertiary);
}

/* 타이핑 효과 애니메이션 */
.typing-success {
  animation: typing-success 0.3s ease-out;
}

.current-char-glow {
  box-shadow: 0 0 0 2px var(--color-typing-cursor);
  background-color: color-mix(in srgb, var(--color-typing-cursor) 10%, transparent);
}

.pulse-glow {
  animation: pulse-glow 1.5s ease-in-out infinite alternate;
}

.shake-animation {
  animation: shake 0.5s ease-in-out;
}

@keyframes typing-success {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 0 2px var(--color-typing-cursor);
  }
  100% {
    box-shadow: 0 0 0 2px var(--color-typing-cursor), 0 0 10px var(--color-typing-cursor);
  }
}

@keyframes shake {
  0%, 100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-2px);
  }
  75% {
    transform: translateX(2px);
  }
}

/* ===============================
   📱 반응형 최적화
   =============================== */

@media (max-width: 768px) {
  body {
    font-size: 14px;
  }
}

@media (max-width: 480px) {
  body {
    font-size: 13px;
  }
}